# AdeptusMechanicus | hard | ppc

## Информация

> Храм самого Механикуса...
>
> Сколько же тут скрыто сокровищ...
>
> Но кажется попасть туда не так просто, система контроля Adeptus Mechanicus не пропустит никого живого. Ну или не выпустит.

`nc ip port`

## Deploy

```bash=
cd deploy && docker compose up --build -d
```

## Выдать участинкам

-

## Описание

Задача на чтение ASCII артов и подбор строк под регулярные выражения

## Решение

Для начала нужно понять как читать ASCII арты, учитывая что это не самая тривиальная задача.

Сделав несколько запросов можно определить следующие параметры:
1. каждый символ выносится отдельно
2. всегда есть одна/несколько пустых строки между разными символами
3. регулярное выражения генерируется под строку от 3 до 7 символов 

Для начала научимся определять каждый символ, тут есть два пути:
1. дождаться HINT #1 и посмотреть что используется библиотека art, а значит можно сгенерировать все возможные комбинации через нее
2. просто перебрать пару десятков запросов и получить все возможные комбинации и составить словарь

Пример для определения символа и конвертации его в строку - [тут](solve/ascii2text.py)

Далее склеиваем получившиеся символы в единую строку и получаем регулярное выражение, с которым можно работать. Теперь задача сгенерировать подходящую под него строку:
1. Тупо берем и генерируем рандомные строки по символам / пытаемся распарсить регулярку и подставлять символы
2. Используем готовые реализации, например как [тут](solve/rex2text.py)

Склеиваем два кусочка, оборачиваем в единую конструкцию, которая будет забирать данные с сокета или будет работать в полуавтоматическом режиме.

## Hints

1. Составить словарь всех символов можно по разному, например так:
```
import art

all_possible_chars = string.ascii_letters + string.digits + string.punctuation
ascii_chars = {}

for char in all_possible_chars:
    ascii_char = art.text2art(char)
    ascii_chars["".join(ascii_char.replace('\n',''))] = char
```

2. Регулярные выражения вдвойне вкусней, если скормить их через exrex!

## Флаг

`ctf{sup3r_asc11_@rt!}`

